<template name="collectionEdit">

    {{#with collection}}

        <h2>
            Collection Edit
        </h2>


        <div class="form-group">

            <a class="cancel">
                <button class="btn btn-sm btn-primary">
                    <i class="fa fa-arrow-left"></i>
                    Save
                </button>
            </a>

            <a class="delete-link">
                <button class="btn btn-sm btn-danger">
                    <i class="fa fa-trash"></i>
                    Delete
                </button>
            </a>

            {{#if isFlickr}}
                <span class="btn btn-sm btn-primary flickr-refresh">Refresh</span>
            {{/if}}

            {{#unless expertConfiguration}}

                <a class="toggle-expert">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-arrow-down"></i>
                        More
                    </button>
                </a>

            {{ else }}

                <a class="toggle-expert">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-arrow-up"></i>
                        Less
                    </button>
                </a>

            {{/unless}}

        </div>

    
        <div class="form-group">
            <label>Collection Name:</label>

            <input type="text"
                   name="name"
                   value="{{name}}"
                   class="form-control"/>
        </div>

        <div class="form-group">
            <button class="btn btn-sm btn-primary pick-image">
                <i class="fa fa-image"></i>
                Set Image
            </button>

            {{#if image_url}}
                <button class="btn btn-sm btn-primary remove-image">
                    Unset
                </button>
            {{/if}}
        </div>

        {{> image image_url=image_url }}

        <div class="form-group">
            <label>Collection Description:</label>
            <div class="quill-wrapper">
                {{> quill }}
                <div id="full-editor" class="editor">
                </div>
            </div>
        </div>

        <div class="form-group">

            <span>
                <a class="save-location">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-location-arrow"></i>
                        Default View
                    </button>
                </a>
            </span>

            <span>
                <a class="permissions-link">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-eye-slash"></i>
                        Permissions
                    </button>
                </a>
            </span>

            <span>
                <a class="export-go">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-arrow-circle-o-down"></i>
                        Export
                    </button>
                </a>
            </span>

        </div>


        {{#if expertConfiguration}}

            {{#if 0}}
            <div class="form-group">
                <label>Flickr Album Link:</label><br>
                <input id="flickr_link" class="form-control" type="text" placeholder="{{flickr_link}}"/>
            </div>
            {{/if}}

            <div>

                <label>Custom Place Template (for Place Detail):</label>
                <textarea id="place-template"
                          class="form-control"
                          rows="4">{{place_template}}</textarea>

                <br>

                <a class="place-template-sample">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-eye"></i>
                        Test
                    </button>
                </a>

                <a class="place-template-json">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-code"></i>
                        Json
                    </button>
                </a>

            </div>

            <br>

            <div>

                <label>Custom Place Template (for Place List):</label>
                <textarea id="place-template-list"
                          class="form-control"
                          rows="4">{{place_template_list}}</textarea>

                <br>

                <a class="place-template-list-sample">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-eye"></i>
                        Test
                    </button>
                </a>

            </div>

            <br>

            <div>

                <label>Custom Place Template (for Label Box):</label>
                <textarea id="place-template-label"
                          class="form-control"
                          rows="4">{{place_template_label}}</textarea>

                <br>

                <a class="place-template-label-sample">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-eye"></i>
                        Test
                    </button>
                </a>

            </div>

            <br>

            <div>

                <label>Custom Form for Data Collection (uses
                    <a href="http://autoform.meteor.com/quickform" target="_blank">
                            Autoform</a>):</label>

                    <textarea id="place-autoform"
                              class="form-control"
                              rows="4">{{place_autoform}}</textarea>
                <br>

                <a class="place-autoform-sample">
                    <button class="btn btn-sm btn-primary">
                        <i class="fa fa-eye"></i>
                        Test
                    </button>
                </a>

            </div>

            <br>

            <label>Custom Theming Functions ({{cedit_mode}}):</label>

            {{#if icon_mode}}
                <textarea rows="4"
                          class="form-control"
                          id="icon_f">{{icon_f}}</textarea>
            {{/if}}

            {{#if icon_size_mode}}
                <textarea rows="4"
                          class="form-control"
                          id="icon_size_f">{{icon_size_f}}</textarea>
            {{/if}}

            {{#if icon_color_mode}}
                <textarea rows="4"
                          class="form-control"
                          id="color_f">{{color_f}}</textarea>
            {{/if}}
            <br>

            <div class="btn-group"
                 data-toggle="buttons-radio"
                 id="my_radiogroup">
                <button type="radio"
                        class="btn btn-sm btn-primary cedit_mode"
                        name="cedit_mode"
                        value="Icon">
                    Icon
                </button>
                <button type="radio"
                        class="btn btn-sm btn-primary cedit_mode"
                        name="cedit_mode"
                        value="Size">
                    Icon Size
                </button>
                <button type="radio"
                        class="btn btn-sm btn-primary cedit_mode"
                        name="cedit_mode"
                        value="Color">
                    Icon Color
                </button>
            </div>

            <br><br>

            <div class="checkbox">
                <label>
                    <input type="checkbox"
                           id="drop-markers"
                           {{drop_markers_checked}}>
                           Drop Markers
                </label>
            </div>

            <div class="checkbox">
                <label>
                    <input type="checkbox"
                           id="disable-geoindex"
                        {{disable_geoindex_checked}}>
                    Turn off geoindex
                </label>
            </div>

            <div class="checkbox">
                <label>
                    <input type="checkbox"
                           id="enable-clustering"
                        {{enable_clustering_checked}}>
                    Enable marker clustering
                </label>
            </div>

            <br>
            
            <div class="form-group">
                <label>Firebase Transit Name:</label><br>
                <input id="transit_name" class="form-control" type="text" placeholder="{{transit_name}}"/>
            </div>

        {{/if}}

    {{/with}}

    <br>

</template>


<template name="quick_form">
    <div>
        {{> quickForm
            id="place_edit_quick_form"
            autosave=true
            validation="blur"
            schema=quick_form
            buttonContent=false
            type="method-update"
            meteormethod="updatePlaceProperties"
            doc=placeDoc
        }}
    </div>
</template>

